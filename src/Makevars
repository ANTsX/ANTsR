## Emacs please make this a -*- mode: Makefile; -*-
##
## Use the R_HOME indirection to support installations of multiple R version
myrootantssource=${PWD}/ANTS/ANTS-src/
myrootantsbin=${PWD}/ANTS/ANTS-build/
myrootitksource=${PWD}/ANTS/ANTS-build/ITKv4/
myrootitkbin=${PWD}/ANTS/ANTS-build/ITKv4-build/
myrootitklib=${PWD}/ANTS/ANTS-build/
# myrootitksource=/Users/stnava/Downloads/ITKv4/
# myrootitkbin=/Users/stnava/Downloads/ITKv4-build/
PKG_CPPFLAGS=-I${myrootantsbin}/ANTS-build/ITKIOFactoryRegistration -I${myrootitksource}Modules/Nonunit/Review/include/ -I${myrootantssource}/Examples/include/ -I${myrootitksource}Modules/Segmentation/Watersheds/include -I${myrootitksource}Modules/Segmentation/Voronoi/include -I${myrootitksource}Modules/Video/IO/include -I${myrootitksource}Modules/Video/Filtering/include -I${myrootitksource}Modules/Video/Core/include -I${myrootitksource}Modules/Bridge/VTK/include -I${myrootitksource}Modules/Core/TestKernel/include -I${myrootitksource}Modules/Filtering/SpatialFunction/include -I${myrootitksource}Modules/Registration/RegistrationMethodsv4/include -I${myrootitksource}Modules/Segmentation/RegionGrowing/include -I${myrootitksource}Modules/Filtering/QuadEdgeMeshFiltering/include -I${myrootitksource}Modules/Numerics/NeuralNetworks/include -I${myrootitksource}Modules/Registration/Metricsv4/include -I${myrootitksource}Modules/Numerics/Optimizersv4/include -I${myrootitksource}Modules/Segmentation/MarkovRandomFieldsClassifiers/include -I${myrootitksource}Modules/Segmentation/LevelSetsv4/include -I${myrootitksource}Modules/Segmentation/LabelVoting/include -I${myrootitksource}Modules/Segmentation/KLMRegionGrowing/include -I${myrootitksource}Modules/Filtering/ImageFusion/include -I${myrootitksource}Modules/IO/VTK/include -I${myrootitksource}Modules/IO/TransformMatlab/include -I${myrootitksource}Modules/IO/TransformInsightLegacy/include -I${myrootitksource}Modules/IO/TransformHDF5/include -I${myrootitksource}Modules/IO/TransformBase/include -I${myrootitksource}Modules/IO/Stimulate/include -I${myrootitksource}Modules/IO/Siemens/include -I${myrootitksource}Modules/IO/RAW/include -I${myrootitksource}Modules/IO/PNG/include -I${myrootitksource}Modules/ThirdParty/PNG/src -I${myrootitkbin}Modules/ThirdParty/PNG/src -I${myrootitksource}Modules/IO/NRRD/include -I${myrootitksource}Modules/ThirdParty/NrrdIO/src/NrrdIO -I${myrootitkbin}Modules/ThirdParty/NrrdIO/src/NrrdIO -I${myrootitksource}Modules/IO/NIFTI/include -I${myrootitksource}Modules/IO/Meta/include -I${myrootitksource}Modules/IO/Mesh/include -I${myrootitksource}Modules/IO/MRC/include -I${myrootitksource}Modules/IO/LSM/include -I${myrootitksource}Modules/IO/TIFF/include -I${myrootitksource}Modules/ThirdParty/TIFF/src -I${myrootitkbin}Modules/ThirdParty/TIFF/src/itktiff -I${myrootitkbin}Modules/ThirdParty/TIFF/src -I${myrootitksource}Modules/IO/JPEG/include -I${myrootitksource}Modules/ThirdParty/JPEG/src -I${myrootitkbin}Modules/ThirdParty/JPEG/src -I${myrootitksource}Modules/IO/HDF5/include -I${myrootitksource}Modules/IO/GIPL/include -I${myrootitksource}Modules/IO/GE/include -I${myrootitksource}Modules/IO/IPL/include -I${myrootitksource}Modules/IO/GDCM/include -I${myrootitksource}Modules/IO/CSV/include -I${myrootitksource}Modules/IO/BioRad/include -I${myrootitksource}Modules/IO/BMP/include -I${myrootitkbin}Modules/ThirdParty/HDF5/src -I${myrootitksource}Modules/ThirdParty/HDF5/src -I${myrootitksource}Modules/Filtering/GPUThresholding/include -I${myrootitksource}Modules/Filtering/GPUSmoothing/include -I${myrootitksource}Modules/Registration/GPUPDEDeformable/include -I${myrootitksource}Modules/Registration/GPUCommon/include -I${myrootitksource}Modules/Filtering/GPUImageFilterBase/include -I${myrootitksource}Modules/Filtering/GPUAnisotropicSmoothing/include -I${myrootitksource}Modules/Core/GPUFiniteDifference/include -I${myrootitksource}Modules/Core/GPUCommon/include -I${myrootitksource}Modules/ThirdParty/GIFTI/src/gifticlib -I${myrootitksource}Modules/ThirdParty/NIFTI/src/nifti/znzlib -I${myrootitksource}Modules/ThirdParty/NIFTI/src/nifti/niftilib -I${myrootitksource}Modules/ThirdParty/GDCM/src/gdcm/Source/DataStructureAndEncodingDefinition -I${myrootitksource}Modules/ThirdParty/GDCM/src/gdcm/Source/MessageExchangeDefinition -I${myrootitksource}Modules/ThirdParty/GDCM/src/gdcm/Source/InformationObjectDefinition -I${myrootitksource}Modules/ThirdParty/GDCM/src/gdcm/Source/Common -I${myrootitksource}Modules/ThirdParty/GDCM/src/gdcm/Source/DataDictionary -I${myrootitksource}Modules/ThirdParty/GDCM/src/gdcm/Source/MediaStorageAndFileFormat -I${myrootitkbin}Modules/ThirdParty/GDCM/src/gdcm/Source/Common -I${myrootitkbin}Modules/ThirdParty/GDCM -I${myrootitksource}Modules/ThirdParty/OpenJPEG/src/openjpeg -I${myrootitkbin}Modules/ThirdParty/OpenJPEG/src/openjpeg -I${myrootitksource}Modules/Registration/FEM/include -I${myrootitksource}Modules/Registration/PDEDeformable/include -I${myrootitksource}Modules/Numerics/FEM/include -I${myrootitksource}Modules/Registration/Common/include -I${myrootitksource}Modules/IO/SpatialObjects/include -I${myrootitksource}Modules/IO/XML/include -I${myrootitksource}Modules/ThirdParty/Expat/src/expat -I${myrootitkbin}Modules/ThirdParty/Expat/src/expat -I${myrootitksource}Modules/Numerics/Eigen/include -I${myrootitksource}Modules/Filtering/DisplacementField/include -I${myrootitksource}Modules/Filtering/DiffusionTensorImage/include -I${myrootitksource}Modules/Filtering/Denoising/include -I${myrootitksource}Modules/Segmentation/DeformableMesh/include -I${myrootitksource}Modules/Filtering/Deconvolution/include -I${myrootitksource}Modules/ThirdParty/DICOMParser/src/DICOMParser -I${myrootitkbin}Modules/ThirdParty/DICOMParser/src/DICOMParser -I${myrootitksource}Modules/Filtering/Convolution/include -I${myrootitksource}Modules/Filtering/FFT/include -I${myrootitksource}Modules/Filtering/Colormap/include -I${myrootitksource}Modules/Segmentation/Classifiers/include -I${myrootitksource}Modules/Segmentation/BioCell/include -I${myrootitksource}Modules/Filtering/BiasCorrection/include -I${myrootitksource}Modules/Numerics/Polynomials/include -I${myrootitksource}Modules/Filtering/AntiAlias/include -I${myrootitksource}Modules/Segmentation/LevelSets/include -I${myrootitksource}Modules/Segmentation/SignedDistanceFunction/include -I${myrootitksource}Modules/Numerics/Optimizers/include -I${myrootitksource}Modules/Filtering/ImageFeature/include -I${myrootitksource}Modules/Filtering/ImageSources/include -I${myrootitksource}Modules/Filtering/ImageGradient/include -I${myrootitksource}Modules/Filtering/Smoothing/include -I${myrootitksource}Modules/Filtering/ImageCompare/include -I${myrootitksource}Modules/Filtering/FastMarching/include -I${myrootitksource}Modules/Core/QuadEdgeMesh/include -I${myrootitksource}Modules/Filtering/DistanceMap/include -I${myrootitksource}Modules/Numerics/NarrowBand/include -I${myrootitksource}Modules/Filtering/BinaryMathematicalMorphology/include -I${myrootitksource}Modules/Filtering/LabelMap/include -I${myrootitksource}Modules/Filtering/MathematicalMorphology/include -I${myrootitksource}Modules/Segmentation/ConnectedComponents/include -I${myrootitksource}Modules/Filtering/Thresholding/include -I${myrootitksource}Modules/Filtering/ImageLabel/include -I${myrootitksource}Modules/Filtering/ImageIntensity/include -I${myrootitksource}Modules/Filtering/Path/include -I${myrootitksource}Modules/Filtering/ImageStatistics/include -I${myrootitksource}Modules/Core/SpatialObjects/include -I${myrootitksource}Modules/ThirdParty/MetaIO/src/MetaIO -I${myrootitkbin}Modules/ThirdParty/MetaIO/src/MetaIO -I${myrootitksource}Modules/ThirdParty/ZLIB/src -I${myrootitkbin}Modules/ThirdParty/ZLIB/src -I${myrootitksource}Modules/Core/Mesh/include -I${myrootitksource}Modules/IO/ImageBase/include -I${myrootitkbin}Modules/IO/ImageBase -I${myrootitksource}Modules/Filtering/ImageCompose/include -I${myrootitksource}Modules/Filtering/AnisotropicSmoothing/include -I${myrootitksource}Modules/Filtering/ImageGrid/include -I${myrootitksource}Modules/Core/ImageFunction/include -I${myrootitksource}Modules/Core/Transform/include -I${myrootitksource}Modules/Numerics/Statistics/include -I${myrootitkbin}Modules/ThirdParty/Netlib -I${myrootitksource}Modules/Core/ImageAdaptors/include -I${myrootitksource}Modules/Filtering/CurvatureFlow/include -I${myrootitksource}Modules/Filtering/ImageFilterBase/include -I${myrootitksource}Modules/Core/FiniteDifference/include -I${myrootitksource}Modules/Core/Common/include -I${myrootitkbin}/Modules/Core/Common -I${myrootitksource}Modules/ThirdParty/VNLInstantiation/include -I${myrootitkbin}Modules/ThirdParty/VNL/src/vxl/core -I${myrootitkbin}Modules/ThirdParty/VNL/src/vxl/vcl -I${myrootitkbin}Modules/ThirdParty/VNL/src/vxl/v3p/netlib -I${myrootitksource}Modules/ThirdParty/VNL/src/vxl/core -I${myrootitksource}Modules/ThirdParty/VNL/src/vxl/vcl -I${myrootitksource}Modules/ThirdParty/VNL/src/vxl/v3p/netlib -I${myrootitkbin}Modules/ThirdParty/KWSys/src -I${myrootitksource}Modules/ThirdParty/DoubleConversion/src/double-conversion
DYLIB_EXT=`R CMD config DYLIB_EXT`
libone=`find ./ANTS/ANTS-build/lib/ -name "*${DYLIB_EXT}"`
libone=${myrootantsbin}lib/libl_Atropos${DYLIB_EXT} ${myrootantsbin}lib/libl_AtroposMin${DYLIB_EXT} ${myrootantsbin}lib/libl_ImageMath${DYLIB_EXT} ${myrootantsbin}lib/libl_ThresholdImage${DYLIB_EXT} ${myrootantsbin}lib/libl_TileImages${DYLIB_EXT} ${myrootantsbin}lib/libl_antsAffineInitializer${DYLIB_EXT} ${myrootantsbin}lib/libl_antsApplyTransforms${DYLIB_EXT} ${myrootantsbin}lib/libl_antsApplyTransformsToPoints${DYLIB_EXT} ${myrootantsbin}lib/libl_antsMotionCorr${DYLIB_EXT} ${myrootantsbin}lib/libl_antsRegistration${DYLIB_EXT} ${myrootantsbin}lib/libl_sccan${DYLIB_EXT}  ${myrootantsbin}lib/libl_KellyKapowski${DYLIB_EXT}  ${myrootantsbin}lib/libl_N3BiasFieldCorrection${DYLIB_EXT}  ${myrootantsbin}lib/libl_N4BiasFieldCorrection${DYLIB_EXT}
myarch  := $(shell uname)
mylinux := Linux
ifeq (${myarch},${mylinux})
	libtwo=`$(R_HOME)/bin/Rscript -e "Rcpp:::LdFlags()" `:${myrootantsbin}lib/
else 
	libtwo=`$(R_HOME)/bin/Rscript -e "Rcpp:::LdFlags()" `
endif 
PKG_LIBS = ${libone} ${libtwo}
