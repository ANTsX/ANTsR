<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Style guide for ANTsR &mdash; ANTsR 0.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ANTsR 0.0.0 documentation" href="index.html" />
    <link rel="prev" title="whiten" href="Rd_whiten.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="index.html"><img src="_static/ANTsRLogo.png" border="0" alt="sampledoc"/></a>
</div>


      <div class="header"><h1 class="heading"><a href="index.html">
          <span>ANTsR 0.0.0 documentation</span></a></h1>
        <h2 class="heading"><span>Style guide for ANTsR</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="Rd_whiten.html">whiten</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="style-guide-for-antsr">
<h1>Style guide for ANTsR<a class="headerlink" href="#style-guide-for-antsr" title="Permalink to this headline">¶</a></h1>
<p>This is a work in progress. This guide is based in part on Google&#8217;s <a class="reference external" href="http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html">R style guide</a>, other style guides and conventions noted <a class="reference external" href="http://journal.r-project.org/archive/2012-2/RJournal_2012-2_Baaaath.pdf">here</a>, and existing ANTsR conventions.</p>
<div class="section" id="summary-r-style-rules">
<h2>Summary: R Style Rules<a class="headerlink" href="#summary-r-style-rules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>File Names: end in .R</li>
<li>Identifiers: variableName, functionName, kConstantName, pipeline_script_functions</li>
<li>Indentation: two spaces, no tabs</li>
<li>Curly Braces: first on same line, last on own line</li>
<li>Assignment: use &lt;-, not =</li>
<li>Semicolons: don&#8217;t use them</li>
<li>Commenting Guidelines: all comments begin with # followed by a space; inline comments need two spaces before the #</li>
</ul>
</div>
<div class="section" id="summary-r-language-rules">
<h2>Summary: R Language Rules<a class="headerlink" href="#summary-r-language-rules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>attach: avoid using it</li>
<li>Functions: errors should be raised using stop()</li>
<li>Objects and Methods: Never mix S3 and S4</li>
</ul>
</div>
<div class="section" id="notation-and-naming">
<h2>Notation and Naming<a class="headerlink" href="#notation-and-naming" title="Permalink to this headline">¶</a></h2>
<div class="section" id="file-names">
<h3>File Names<a class="headerlink" href="#file-names" title="Permalink to this headline">¶</a></h3>
<p>File names should end in .R and, of course, be meaningful.</p>
<p>GOOD:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">antsImageRead</span><span class="o">.</span><span class="n">R</span>
</pre></div>
</div>
<p>BAD:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">foo</span><span class="o">.</span><span class="n">R</span>
</pre></div>
</div>
</div>
<div class="section" id="identifiers">
<h3>Identifiers<a class="headerlink" href="#identifiers" title="Permalink to this headline">¶</a></h3>
<p>Identifiers should be named according to the following conventions:</p>
<ul class="simple">
<li>Function names wrapping ANTs functions should match the function, eg antsRegistration or ImageMath</li>
<li>Function names implementing pipelines or examples should be lower case, separated by underscores, eg simple_roi_analysis</li>
<li>Other function names and variable names should be in camelCase</li>
<li>Constants have an initial k, then follow camelCase, eg kCamelCase</li>
</ul>
<p>Make function names verbs and variable names nouns.</p>
<p>Exception: When creating a classed object, the function name (constructor) and class should match (e.g., lm).</p>
</div>
</div>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="section" id="indentation">
<h3>Indentation<a class="headerlink" href="#indentation" title="Permalink to this headline">¶</a></h3>
<p>When indenting your code, use two spaces. Never use tabs or mix tabs and spaces.</p>
</div>
<div class="section" id="spacing">
<h3>Spacing<a class="headerlink" href="#spacing" title="Permalink to this headline">¶</a></h3>
<p>Place spaces around all binary operators (=, +, -, &lt;-, etc.).
Exception: Spaces around =&#8217;s are optional when passing parameters in a function call.</p>
<p>Do not place a space before a comma, but always place one after a comma.</p>
<p>GOOD:</p>
<div class="highlight-python"><div class="highlight"><pre>tabPrior &lt;- table(df[df$daysFromOpt &lt; 0, &quot;campaignid&quot;])
total &lt;- sum(x[, 1])
total &lt;- sum(x[1, ])
</pre></div>
</div>
<p>BAD:</p>
<div class="highlight-python"><div class="highlight"><pre>tabPrior &lt;- table(df[df$daysFromOpt&lt;0, &quot;campaignid&quot;])  # Needs spaces around &#39;&lt;&#39;
tabPrior &lt;- table(df[df$daysFromOpt &lt; 0,&quot;campaignid&quot;])  # Needs a space after the comma
tabPrior&lt;- table(df[df$daysFromOpt &lt; 0, &quot;campaignid&quot;])  # Needs a space before &lt;-
tabPrior&lt;-table(df[df$daysFromOpt &lt; 0, &quot;campaignid&quot;])  # Needs spaces around &lt;-
total &lt;- sum(x[,1])  # Needs a space after the comma
total &lt;- sum(x[ ,1])  # Needs a space after the comma, not before
</pre></div>
</div>
<p>Place a space before left parenthesis, except in a function call.</p>
<p>GOOD:</p>
<div class="highlight-python"><div class="highlight"><pre>if (debug)
</pre></div>
</div>
<p>BAD:</p>
<div class="highlight-python"><div class="highlight"><pre>if(debug)
</pre></div>
</div>
<p>Extra spacing (i.e., more than one space in a row) is okay if it improves alignment of equals signs or arrows (&lt;-):</p>
<div class="highlight-python"><div class="highlight"><pre>plot(x    = xCoord,
     y    = dataMat[, makeColName(metric, ptiles[1], &quot;roiOpt&quot;)],
     ylim = ylim,
     xlab = &quot;dates&quot;,
     ylab = metric,
     main = (paste(metric, &quot; for 3 samples &quot;, sep=&quot;&quot;)))
</pre></div>
</div>
<p>Do not place spaces around code in parentheses or square brackets. Exception: Always place a space after a comma.</p>
<p>GOOD:</p>
<div class="highlight-python"><div class="highlight"><pre>if (debug)
x[1, ]
</pre></div>
</div>
<p>BAD:</p>
<div class="highlight-python"><div class="highlight"><pre>if ( debug )  # No spaces around debug
x[1,]  # Needs a space after the comma
</pre></div>
</div>
</div>
<div class="section" id="curly-braces">
<h3>Curly Braces<a class="headerlink" href="#curly-braces" title="Permalink to this headline">¶</a></h3>
<p>An opening curly brace should never go on its own line; a closing curly brace should always go on its own line:</p>
<div class="highlight-python"><div class="highlight"><pre>if (is.null(ylim)) {
  ylim &lt;- c(0, 0.06)
}
</pre></div>
</div>
<p>Always begin the body of a block on a new line.</p>
<p>BAD:</p>
<div class="highlight-python"><div class="highlight"><pre>if (is.null(ylim)) ylim &lt;- c(0, 0.06)
if (is.null(ylim)) {ylim &lt;- c(0, 0.06)}
</pre></div>
</div>
</div>
<div class="section" id="assignment">
<h3>Assignment<a class="headerlink" href="#assignment" title="Permalink to this headline">¶</a></h3>
<p>Use &lt;-, not =, for assignment.</p>
<p>GOOD:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">&lt;-</span> <span class="mi">5</span>
</pre></div>
</div>
<p>BAD:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<p>Exception: use = for arguments to functions, eg:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">function</span><span class="p">(</span><span class="n">param</span> <span class="o">=</span> <span class="n">defaultValue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="semicolons">
<h3>Semicolons<a class="headerlink" href="#semicolons" title="Permalink to this headline">¶</a></h3>
<p>Do not terminate your lines with semicolons or use semicolons to put more than one command on the same line.</p>
</div>
</div>
<div class="section" id="organization">
<h2>Organization<a class="headerlink" href="#organization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="commenting-guidelines">
<h3>Commenting Guidelines<a class="headerlink" href="#commenting-guidelines" title="Permalink to this headline">¶</a></h3>
<p>Comment your code. Entire commented lines should begin with # and one space.</p>
<p>Short comments can be placed after code preceded by two spaces, #, and then one space:</p>
<div class="highlight-python"><div class="highlight"><pre># Create histogram of frequency of campaigns by pct budget spent.
hist(df$pctSpent,
     breaks = &quot;scott&quot;,  # method for choosing number of buckets
     main   = &quot;Histogram: fraction budget spent by campaignid&quot;,
     xlab   = &quot;Fraction of budget spent&quot;,
     ylab   = &quot;Frequency (count of campaignids)&quot;)
</pre></div>
</div>
</div>
<div class="section" id="function-definitions-and-calls">
<h3>Function Definitions and Calls<a class="headerlink" href="#function-definitions-and-calls" title="Permalink to this headline">¶</a></h3>
<p>Function definitions should first list arguments without default values, followed by those with default values.</p>
<p>In both function definitions and function calls, multiple arguments per line are allowed; line breaks are only allowed between assignments.</p>
<p>GOOD:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">PredictCTR</span> <span class="o">&lt;-</span> <span class="n">function</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="nb">property</span><span class="p">,</span> <span class="n">numDays</span><span class="p">,</span>
                       <span class="n">showPlot</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>BAD::</dt>
<dd><dl class="first last docutils">
<dt>PredictCTR &lt;- function(query, property, numDays, showPlot =</dt>
<dd>TRUE)</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="function-documentation">
<h3>Function Documentation<a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h3>
<p>Functions <strong>must</strong> be documented with a man page, and the man page must be kept up to date.</p>
<p>The function documentation should use the following sections, in order:</p>
<div class="highlight-python"><div class="highlight"><pre>\name{functionName}
\alias{functionName}
\title {
Function Title
}

\description{
  Short description of function.
}

\usage{
functionName( arg1, arg2, argWithDefault = default, \dots )
}

\arguments{
  \item{arg1}{
    Input image for motion-correction. Can be a filename of a 3D image or
    an \code{antsImage} of pixeltype \code{float} and dimension 3.
  }

  % Document all args that are shown in the usage. Uncommon args abbreviated as \sQuote{\dots} can be
  % explained in \sQuote{Details}

  % Use \code{} to highlight code
}
\details{} % Optional

\value{
  Describe the return value including its type. Can be omitted for functions that do not return anything.
}
\section{Optional Additional Sections as Needed}{
}

\seealso{
   \code{\link{relatedFunction}} % Optional
}

\references{} % Optional

\author{
  Lastname AB
}

\examples{
\dontrun{
  % Examples, see Rd developer guide link below
}
}
</pre></div>
</div>
<p>For more details, see <a class="reference external" href="http://developer.r-project.org/Rds.html">Guidelines for Rd files</a>. For help on the .Rd format, see <a class="reference external" href="http://developer.r-project.org/parseRd.pdf">here</a>.</p>
</div>
</div>
<div class="section" id="language">
<h2>Language<a class="headerlink" href="#language" title="Permalink to this headline">¶</a></h2>
<div class="section" id="attach">
<h3>Attach<a class="headerlink" href="#attach" title="Permalink to this headline">¶</a></h3>
<p>The possibilities for creating errors when using attach are numerous. Avoid it.</p>
</div>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<p>Errors should be raised using stop(). This makes it easier to trace errors.</p>
<p>GOOD:</p>
<div class="highlight-python"><div class="highlight"><pre>if (x &lt; 0) {
  stop(&quot;x must be positive&quot;)
}
</pre></div>
</div>
<p>BAD:</p>
<div class="highlight-python"><div class="highlight"><pre>if (x &lt; 0) {
  print(&quot;x must be positive&quot;)
  return(NULL)
}
</pre></div>
</div>
<p>WORSE:</p>
<div class="highlight-python"><div class="highlight"><pre>if (x &lt; 0) {
  return(NULL)
}
</pre></div>
</div>
<p>WORST:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># I&#39;m too busy to check for errors</span>

<span class="n">someFunction</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c"># seg faults if x &lt; 0</span>
</pre></div>
</div>
</div>
<div class="section" id="objects-and-methods">
<h3>Objects and Methods<a class="headerlink" href="#objects-and-methods" title="Permalink to this headline">¶</a></h3>
<p>Avoid mixing S3 and S4: S4 methods ignore S3 inheritance and vice-versa.</p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="Rd_whiten.html">whiten</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, ants-dev-team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>