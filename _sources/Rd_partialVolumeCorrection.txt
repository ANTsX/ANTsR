=========================
partialVolumeCorrection 
=========================

purpose:  

 Perform partial volume correction for ASL images. 
 
description:  

 This function performs a partial volume correction for ASL images by dividing the observed CBF by the gray matter and white matter probabilities, as described in Johnson et al., Radiology 2005: 
 CBF_corrected = CBF_observed / (GM_prob + 0.4 * WM_prob)
 

usage:  

 partialVolumeCorrection(image, image.gm, image.wm, mask=NULL, proportion=0.4)
 
examples: 

.. sourcecode:: r
    

    activity.gm <- 10
    
    activity.wm <- activity.gm * 0.4
    
    percent.gm <- matrix(seq(0.1, 1, by = 0.1), nrow = 2)
    
    percent.wm <- -percent.gm + 1
    
    activity.obs <- percent.gm * rnorm(n = length(percent.gm), mean = activity.gm, 
        sd = 5) + 
    rnorm(n = length(percent.wm), mean = activity.wm, sd = 5)
    
    activity.corrected <- partialVolumeCorrection(activity.obs, percent.gm, percent.wm)
    



