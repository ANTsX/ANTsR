<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>joint label and intensity fusion — jointLabelFusion • ANTsR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="joint label and intensity fusion — jointLabelFusion"><meta property="og:description" content="A multiple atlas voting scheme to customize labels for a new subject. This
function will also perform intensity fusion. It almost directly calls the
C++ in the ANTs executable so is much faster than other variants in ANTsR.
One may want to normalize image intensities for each input image before
passing to this function.  If no labels are passed, we do intensity fusion.
Note on computation time: the underlying C++
is multithreaded.  You can control the number of threads by setting the
environment variable ITK_GLOBAL_DEFAULT_NUMBER_OF_THREADS e.g. to use all or
some of your CPUs.  This will improve performance substantially. For instance,
on a macbook pro from 2015, 8 cores improves speed by about 4x."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ANTsR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/simlr_interpretation.html">simlr_interpretation</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>joint label and intensity fusion</h1>
    
    <div class="hidden name"><code>jointLabelFusion.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A multiple atlas voting scheme to customize labels for a new subject. This
function will also perform intensity fusion. It almost directly calls the
<code>C++</code> in the ANTs executable so is much faster than other variants in ANTsR.
One may want to normalize image intensities for each input image before
passing to this function.  If no labels are passed, we do intensity fusion.
Note on computation time: the underlying <code>C++</code>
is multithreaded.  You can control the number of threads by setting the
environment variable <code>ITK_GLOBAL_DEFAULT_NUMBER_OF_THREADS</code> e.g. to use all or
some of your CPUs.  This will improve performance substantially. For instance,
on a macbook pro from 2015, 8 cores improves speed by about 4x.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">jointLabelFusion</span><span class="op">(</span></span>
<span>  <span class="va">targetI</span>,</span>
<span>  <span class="va">targetIMask</span>,</span>
<span>  <span class="va">atlasList</span>,</span>
<span>  beta <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  rad <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  labelList <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rho <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  usecor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rSearch <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  nonnegative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  maxLabelPlusOne <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  noZeroes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>targetI</dt>
<dd><p>antsImage to be approximated</p></dd>


<dt>targetIMask</dt>
<dd><p>mask with value 1</p></dd>


<dt>atlasList</dt>
<dd><p>list containing antsImages with intensity images</p></dd>


<dt>beta</dt>
<dd><p>weight sharpness, default to 2</p></dd>


<dt>rad</dt>
<dd><p>neighborhood radius, default to 2</p></dd>


<dt>labelList</dt>
<dd><p>optional list containing antsImages with segmentation labels</p></dd>


<dt>rho</dt>
<dd><p>ridge penalty increases robustness to outliers but also
makes image converge to average</p></dd>


<dt>usecor</dt>
<dd><p>employ correlation as local similarity</p></dd>


<dt>rSearch</dt>
<dd><p>radius of search, default is 3</p></dd>


<dt>nonnegative</dt>
<dd><p>constrain weights to be non-negative</p></dd>


<dt>maxLabelPlusOne</dt>
<dd><p>boolean
this will add max label plus one to the non-zero parts of each label where the target mask
is greater than one.  NOTE: this will have a side effect of adding to the original label
images that are passed to the program.  It also guarantees that every position in the
labels have some label, rather than none.  Ie it guarantees to explicitly parcellate the
input data.</p></dd>


<dt>noZeroes</dt>
<dd><p>boolean will zero out target mask regions that have any zero label.
this prevents JLF from computing a solution in regions not covered by the initial library.</p></dd>


<dt>verbose</dt>
<dd><p>boolean</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>approximated image, segmentation and probabilities</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Brian B. Avants, Hongzhi Wang, Paul Yushkevich, Nicholas J. Tustison</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="ri.html">ri</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="resampleImage.html">resampleImage</a></span><span class="op">(</span><span class="va">ref</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="iMath.html">iMath</a></span><span class="op">(</span><span class="va">ref</span>, <span class="st">"Normalize"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mi</span> <span class="op">&lt;-</span> <span class="fu"><a href="ri.html">ri</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mi2</span> <span class="op">&lt;-</span> <span class="fu"><a href="ri.html">ri</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mi3</span> <span class="op">&lt;-</span> <span class="fu"><a href="ri.html">ri</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mi4</span> <span class="op">&lt;-</span> <span class="fu"><a href="ri.html">ri</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mi5</span> <span class="op">&lt;-</span> <span class="fu"><a href="ri.html">ri</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">refmask</span> <span class="op">&lt;-</span> <span class="fu"><a href="getMask.html">getMask</a></span><span class="op">(</span><span class="va">ref</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">refmask</span> <span class="op">&lt;-</span> <span class="fu"><a href="iMath.html">iMath</a></span><span class="op">(</span><span class="va">refmask</span>, <span class="st">"ME"</span>, <span class="fl">2</span><span class="op">)</span> <span class="co"># just to speed things up</span></span></span>
<span class="r-in"><span><span class="va">ilist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">mi</span>, <span class="va">mi2</span>, <span class="va">mi3</span>, <span class="va">mi4</span>, <span class="va">mi5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seglist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ilist</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">ilist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="iMath.html">iMath</a></span><span class="op">(</span><span class="va">ilist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, <span class="st">"Normalize"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">mytx</span> <span class="op">&lt;-</span> <span class="fu"><a href="antsRegistration.html">antsRegistration</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    fixed <span class="op">=</span> <span class="va">ref</span>, moving <span class="op">=</span> <span class="va">ilist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    typeofTransform <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Affine"</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">mywarpedimage</span> <span class="op">&lt;-</span> <span class="fu"><a href="antsApplyTransforms.html">antsApplyTransforms</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    fixed <span class="op">=</span> <span class="va">ref</span>,</span></span>
<span class="r-in"><span>    moving <span class="op">=</span> <span class="va">ilist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    transformlist <span class="op">=</span> <span class="va">mytx</span><span class="op">$</span><span class="va">fwdtransforms</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">ilist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mywarpedimage</span></span></span>
<span class="r-in"><span>  <span class="va">seg</span> <span class="op">&lt;-</span> <span class="fu"><a href="thresholdImage.html">thresholdImage</a></span><span class="op">(</span><span class="va">ilist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>, <span class="st">"Otsu"</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">seglist</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">seg</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu">jointLabelFusion</span><span class="op">(</span><span class="va">ref</span>, <span class="va">refmask</span>, <span class="va">ilist</span>,</span></span>
<span class="r-in"><span>  rSearch <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  labelList <span class="op">=</span> <span class="va">seglist</span>, rad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">r</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">ref</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>converting NULL pointer to R NULL</span>
<span class="r-in"><span><span class="va">pp2</span> <span class="op">&lt;-</span> <span class="fu">jointLabelFusion</span><span class="op">(</span><span class="va">ref</span>, <span class="va">refmask</span>, <span class="va">ilist</span>,</span></span>
<span class="r-in"><span>  rSearch <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  labelList <span class="op">=</span> <span class="va">seglist</span>, rad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">r</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">ref</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>converting NULL pointer to R NULL</span>
<span class="r-in"><span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/equality-expectations.html" class="external-link">expect_equal</a></span><span class="op">(</span><span class="va">pp2</span><span class="op">$</span><span class="va">segmentation</span>, <span class="va">pp</span><span class="op">$</span><span class="va">segmentation</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu">jointLabelFusion</span><span class="op">(</span><span class="va">ref</span>, <span class="va">refmask</span>, <span class="va">ilist</span>,</span></span>
<span class="r-in"><span>  rSearch <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  rad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">r</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">ref</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>converting NULL pointer to R NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="antsImageRead.html">antsImageRead</a></span><span class="op">(</span><span class="fu"><a href="getANTsRData.html">getANTsRData</a></span><span class="op">(</span><span class="st">"ch2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="resampleImage.html">resampleImage</a></span><span class="op">(</span><span class="va">ref</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">n</span>, <span class="va">n</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ref</span> <span class="op">&lt;-</span> <span class="fu"><a href="iMath.html">iMath</a></span><span class="op">(</span><span class="va">ref</span>, <span class="st">"Normalize"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">refmask</span> <span class="op">&lt;-</span> <span class="fu"><a href="getMask.html">getMask</a></span><span class="op">(</span><span class="va">ref</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ilist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seglist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">mi</span> <span class="op">&lt;-</span> <span class="fu"><a href="antsImageClone.html">antsImageClone</a></span><span class="op">(</span><span class="va">ref</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">^</span><span class="fl">3</span>, <span class="fl">0</span>, <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">mykseg</span> <span class="op">&lt;-</span> <span class="fu"><a href="kmeansSegmentation.html">kmeansSegmentation</a></span><span class="op">(</span><span class="va">mi</span>, <span class="fl">3</span>, <span class="va">refmask</span><span class="op">)</span><span class="op">$</span><span class="va">segmentation</span></span></span>
<span class="r-in"><span>  <span class="va">ilist</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mi</span></span></span>
<span class="r-in"><span>  <span class="va">seglist</span><span class="op">[[</span><span class="va">k</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">mykseg</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu">jointLabelFusion</span><span class="op">(</span><span class="va">ref</span>, <span class="va">refmask</span>, <span class="va">ilist</span>,</span></span>
<span class="r-in"><span>  rSearch <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  labelList <span class="op">=</span> <span class="va">seglist</span>, rad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">ref</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ref</span>, <span class="va">pp</span><span class="op">$</span><span class="va">segmentation</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pp</span><span class="op">$</span><span class="va">intensity</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Brian B Avants.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

